# üéØ Telegram Mini App + CRM: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. –í–∞—Ä–∏–∞–Ω—Ç—ã CRM —Å–∏—Å—Ç–µ–º
2. –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è Telegram Mini App
3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
4. –ü–æ—à–∞–≥–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

---

## üèÜ –í–ê–†–ò–ê–ù–¢–´ CRM –°–ò–°–¢–ï–ú

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–≤–æ—è CRM (–ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞) ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

#### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
```
Backend: Node.js + Express + MongoDB
Frontend: React –≤ Telegram Mini App
Bot: node-telegram-bot-api
```

#### –ü–ª—é—Å—ã:
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –Ω–∞—Ç–∏–≤–Ω–æ
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–≤–æ–∏

#### –ú–∏–Ω—É—Å—ã:
- ‚ùå –ù—É–∂–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –Ω—É–ª—è
- ‚ùå –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–æ–∏–º–∏ —Å–∏–ª–∞–º–∏
- ‚ùå 3-4 –Ω–µ–¥–µ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª CRM:

**–î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
- –ó–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- –ò—Å—Ç–æ—Ä–∏—è —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏—Ö—Å—è —Ä–∞–±–æ—Ç
- –ß–∞—Ç—ã —Å –º–∞—Å—Ç–µ—Ä–∞–º–∏

**–î–ª—è –∞–¥–º–∏–Ω–∞/–º–∞—Å—Ç–µ—Ä–∞:**
```javascript
// –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ Mini App
const AdminDashboard = {
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏
  viewAppointments: () => {
    // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏
    // –§–∏–ª—å—Ç—Ä—ã: —Å–µ–≥–æ–¥–Ω—è, –∑–∞–≤—Ç—Ä–∞, –≤—Å–µ
    // –ü–æ–∏—Å–∫ –ø–æ –∫–ª–∏–µ–Ω—Ç—É
  },
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏
  manageArtists: () => {
    // –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –º–∞—Å—Ç–µ—Ä–∞
    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
    // –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  },
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
  managePortfolio: () => {
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—É—é —Ä–∞–±–æ—Ç—É
    // –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é
    // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
  },
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
  manageClients: () => {
    // –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∫–ª–∏–µ–Ω—Ç–∞
    // –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏
    // –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏
  },
  
  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  viewStats: () => {
    // –í—ã—Ä—É—á–∫–∞ –∑–∞ –º–µ—Å—è—Ü
    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
    // –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞
    // –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã
  },
  
  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
  settings: () => {
    // –†–∞–±–æ—á–∏–µ —á–∞—Å—ã
    // –¶–µ–Ω—ã
    // –¢–µ–∫—Å—Ç—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  }
};
```

#### –°—Ç–æ–∏–º–æ—Å—Ç—å: $2000-2500
#### –í—Ä–µ–º—è: 3-4 –Ω–µ–¥–µ–ª–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AmoCRM/Bitrix24

#### –ü–ª—é—Å—ã:
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è CRM —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ú–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –ú–∏–Ω—É—Å—ã:
- ‚ùå –ü–æ–¥–ø–∏—Å–∫–∞: 1000-3000‚ÇΩ/–º–µ—Å—è—Ü
- ‚ùå –ù–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ç–∞—Ç—É-—Å—Ç—É–¥–∏–∏
- ‚ùå –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
- ‚ùå –ü–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –º–∞–ª–æ–≥–æ –±–∏–∑–Ω–µ—Å–∞

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
```javascript
// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AmoCRM API
const amoCRMIntegration = {
  createLead(clientData) {
    // –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –≤ AmoCRM
    fetch('https://your-domain.amocrm.ru/api/v4/leads', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${ACCESS_TOKEN}`
      },
      body: JSON.stringify({
        name: `–ó–∞–ø–∏—Å—å ${clientData.name}`,
        custom_fields_values: [{
          field_id: 12345,
          values: [{ value: clientData.date }]
        }]
      })
    });
  }
};
```

#### –°—Ç–æ–∏–º–æ—Å—Ç—å: –ü–æ–¥–ø–∏—Å–∫–∞ –æ—Ç 1000‚ÇΩ/–º–µ—Å—è—Ü + –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è $500-800
#### –í—Ä–µ–º—è: 1-2 –Ω–µ–¥–µ–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ù–∏–∑–∫–æ-–∫–æ–¥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ (Airtable + Zapier)

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
Telegram Bot ‚Üí Airtable (CRM –±–∞–∑–∞) ‚Üí Zapier (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)
```

#### –ü–ª—é—Å—ã:
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–±–µ–∑ –∫–æ–¥–∞)
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram —á–µ—Ä–µ–∑ Zapier
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Airtable

#### –ú–∏–Ω—É—Å—ã:
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚ùå –ü–æ–¥–ø–∏—Å–∫–∞: $20-50/–º–µ—Å—è—Ü
- ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Å–µ—Ä–≤–∏—Å–∞

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

**1. Airtable:**
```
–¢–∞–±–ª–∏—Ü–∞ "–ö–ª–∏–µ–Ω—Ç—ã" (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, telegram_id)
–¢–∞–±–ª–∏—Ü–∞ "–ó–∞–ø–∏—Å–∏" (–∫–ª–∏–µ–Ω—Ç, –¥–∞—Ç–∞, –º–∞—Å—Ç–µ—Ä, —Å—Ç–∞—Ç—É—Å)
–¢–∞–±–ª–∏—Ü–∞ "–ú–∞—Å—Ç–µ—Ä–∞" (–∏–º—è, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ä–µ–π—Ç–∏–Ω–≥)
–¢–∞–±–ª–∏—Ü–∞ "–†–∞–±–æ—Ç—ã" (—Ñ–æ—Ç–æ, –º–∞—Å—Ç–µ—Ä, —Å—Ç–∏–ª—å, —Ç–µ–≥–∏)
```

**2. Zapier:**
```
–ü—Ä–∏—Ö–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram ‚Üí 
–°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ Airtable ‚Üí
–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä—É
```

#### –°—Ç–æ–∏–º–æ—Å—Ç—å: Airtable $20/–º–µ—Å + Zapier $20/–º–µ—Å = $40/–º–µ—Å—è—Ü
#### –í—Ä–µ–º—è: 3-5 –¥–Ω–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: Google Sheets –∫–∞–∫ CRM (–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π)

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
Telegram Bot ‚Üí Google Sheets (—á–µ—Ä–µ–∑ Google Apps Script)
```

#### –ü–ª—é—Å—ã:
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –ü—Ä–æ—Å—Ç–æ –ø–æ–Ω—è—Ç—å
- ‚úÖ –û–±—â–∏–π –¥–æ—Å—Ç—É–ø
- ‚úÖ –õ–µ–≥–∫–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

#### –ú–∏–Ω—É—Å—ã:
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- ‚ùå –ù–µ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ùå –ù–µ—Ç UI –¥–ª—è –∞–¥–º–∏–Ω–∞
- ‚ùå –†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

**Google Sheet 1: –ö–ª–∏–µ–Ω—Ç—ã**
| ID | –ò–º—è | –¢–µ–ª–µ—Ñ–æ–Ω | Telegram ID | –ü–µ—Ä–≤–∞—è –∑–∞–ø–∏—Å—å | –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π |
|---|---|---|---|---|---|
| 1 | –ò–≤–∞–Ω | +7... | 123456 | 2024-01-15 | 3 |

**Google Sheet 2: –ó–∞–ø–∏—Å–∏**
| ID | –ö–ª–∏–µ–Ω—Ç | –î–∞—Ç–∞ | –í—Ä–µ–º—è | –ú–∞—Å—Ç–µ—Ä | –°—Ç–∞—Ç—É—Å | –ó–∞–º–µ—Ç–∫–∏ |
|---|---|---|---|---|---|---|
| 1 | 1 | 2024-02-01 | 14:00 | –ê–Ω–Ω–∞ | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –†–æ–∑–∞ –Ω–∞ —Ä—É–∫–µ |

**Google Apps Script –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
```javascript
function sendTelegramNotification(chatId, message) {
  const botToken = 'YOUR_BOT_TOKEN';
  const url = `https://api.telegram.org/bot${botToken}/sendMessage`;
  
  UrlFetchApp.fetch(url, {
    method: 'post',
    contentType: 'application/json',
    payload: JSON.stringify({
      chat_id: chatId,
      text: message
    })
  });
}
```

#### –°—Ç–æ–∏–º–æ—Å—Ç—å: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á)
#### –í—Ä–µ–º—è: 1 –Ω–µ–¥–µ–ª—è

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø

### –î–ª—è –º–∞–ª–æ–π —Å—Ç—É–¥–∏–∏ (1-2 –º–∞—Å—Ç–µ—Ä–∞):
**Google Sheets + Telegram Bot**
- –ë—ã—Å—Ç—Ä–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
- –°—Ç–æ–∏–º–æ—Å—Ç—å: $500-700 –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –±–æ—Ç–∞

### –î–ª—è —Å—Ä–µ–¥–Ω–µ–π —Å—Ç—É–¥–∏–∏ (3-5 –º–∞—Å—Ç–µ—Ä–æ–≤):
**–°–≤–æ—è –∫–∞—Å—Ç–æ–º–Ω–∞—è CRM** ‚≠ê
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- –ü–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É
- –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫
- –°—Ç–æ–∏–º–æ—Å—Ç—å: $2000-2500

### –î–ª—è –±–æ–ª—å—à–æ–π —Å—Ç—É–¥–∏–∏ (5+ –º–∞—Å—Ç–µ—Ä–æ–≤):
**AmoCRM + –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- –ú–æ—â–Ω–∞—è CRM
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∞–π—Ç–æ–º
- –û—Ç–¥–µ–ª—ã –∏ —Ä–æ–ª–∏
- –°—Ç–æ–∏–º–æ—Å—Ç—å: –ø–æ–¥–ø–∏—Å–∫–∞ + —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ $1500

---

## ü§ñ –ß–¢–û –ù–ï–û–ë–•–û–î–ò–ú–û –î–õ–Ø TELEGRAM MINI APP

### 1. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### Telegram Bot:
```bash
# –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
1. –ù–∞–ø–∏—Å–∞—Ç—å @BotFather –≤ Telegram
2. –ö–æ–º–∞–Ω–¥–∞ /newbot
3. –£–∫–∞–∑–∞—Ç—å –∏–º—è –∏ username
4. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
```

#### –î–æ–º–µ–Ω –∏ SSL:
```bash
# –ù—É–∂–µ–Ω HTTPS –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
# –í–∞—Ä–∏–∞–Ω—Ç—ã:
1. Vercel (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) - –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
2. Netlify (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. Railway ($5/–º–µ—Å—è—Ü)
4. Custom —Å–µ—Ä–≤–µ—Ä (–æ—Ç $10/–º–µ—Å—è—Ü)
```

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
```bash
# –í–∞—Ä–∏–∞–Ω—Ç—ã:
1. MongoDB Atlas (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier 512MB)
2. PostgreSQL –Ω–∞ Railway ($5/–º–µ—Å—è—Ü)
3. Supabase (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier 500MB)
4. Cloud SQL (Google) - –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
```

---

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tattoo-studio-telegram/
‚îú‚îÄ‚îÄ bot/                    # Telegram Bot
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –°–µ—Ä–≤–∏—Å—ã (notifications, scheduler)
‚îÇ   ‚îî‚îÄ‚îÄ bot.js             # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ mini-app/              # Frontend (Telegram Mini App)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/         # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.jsx        # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ backend/               # API Backend
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # API –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ controllers/       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ server.js          # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ
‚îú‚îÄ‚îÄ database/              # –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql
‚îÇ
‚îî‚îÄ‚îÄ deployment/            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–µ–ø–ª–æ—è
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îú‚îÄ‚îÄ docker-compose.yml
    ‚îî‚îÄ‚îÄ vercel.json
```

---

### 3. –ü–∞–∫–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

#### package.json (–ú–∏–Ω–∏–º—É–º):
```json
{
  "name": "tattoo-studio",
  "version": "1.0.0",
  "scripts": {
    "dev": "nodemon server/index.js",
    "build": "cd mini-app && npm run build",
    "start": "node server/index.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "node-telegram-bot-api": "^0.64.0",
    "mongoose": "^7.6.0",
    "dotenv": "^16.3.1",
    "cors": "^2.8.5",
    "axios": "^1.6.0",
    "node-cron": "^3.0.2"
  },
  "devDependencies": {
    "nodemon": "^3.0.1"
  }
}
```

#### Backend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Node.js):
```javascript
// server/index.js
const express = require('express');
const mongoose = require('mongoose');
const TelegramBot = require('node-telegram-bot-api');
require('dotenv').config();

const app = express();
app.use(express.json());
app.use(cors());

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
mongoose.connect(process.env.MONGODB_URI);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram –±–æ—Ç–∞
const bot = new TelegramBot(process.env.TELEGRAM_BOT_TOKEN, {
  polling: true
});

// API —Ä–æ—É—Ç—ã
app.use('/api', require('./routes/api'));
app.use('/api/admin', require('./routes/admin'));

// Webhook –¥–ª—è Telegram (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
app.post('/webhook', (req, res) => {
  bot.processUpdate(req.body);
  res.sendStatus(200);
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ${PORT}`);
});
```

---

### 4. –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```bash
# Telegram
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_BOT_USERNAME=your_studio_bot

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/tattoo-studio
# –∏–ª–∏
DATABASE_URL=postgresql://user:password@host:5432/tattoo-studio

# –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏
JWT_SECRET=your-secret-key-here
ADMIN_TELEGRAM_ID=123456789

# –û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
AWS_S3_BUCKET=your-bucket-name
AWS_ACCESS_KEY=your-access-key
AWS_SECRET_KEY=your-secret-key

# Email/SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-password

# Frontend URL
FRONTEND_URL=https://your-miniapp.vercel.app
BACKEND_URL=https://your-api.railway.app
```

---

### 5. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (MongoDB/Mongoose)

```javascript
// models/Client.js
const mongoose = require('mongoose');

const ClientSchema = new mongoose.Schema({
  telegramId: {
    type: Number,
    required: true,
    unique: true
  },
  firstName: String,
  lastName: String,
  username: String,
  phone: String,
  email: String,
  
  // –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π
  appointments: [{
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Appointment'
  }],
  
  // –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
  favoriteTattoos: [{
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Tattoo'
  }],
  
  // –õ–æ—è–ª—å–Ω–æ—Å—Ç—å
  loyaltyPoints: {
    type: Number,
    default: 0
  },
  loyaltyLevel: {
    type: String,
    enum: ['Bronze', 'Silver', 'Gold', 'Platinum'],
    default: 'Bronze'
  },
  
  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  createdAt: {
    type: Date,
    default: Date.now
  },
  lastAppointment: Date,
  totalSpent: {
    type: Number,
    default: 0
  }
});

module.exports = mongoose.model('Client', ClientSchema);
```

```javascript
// models/Appointment.js
const mongoose = require('mongoose');

const AppointmentSchema = new mongoose.Schema({
  client: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Client',
    required: true
  },
  artist: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Artist',
    required: true
  },
  date: {
    type: Date,
    required: true
  },
  duration: {
    type: Number,
    default: 2 // —á–∞—Å–∞
  },
  service: String, // –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞—Ç—É–∏—Ä–æ–≤–∫–∏
  status: {
    type: String,
    enum: ['pending', 'confirmed', 'completed', 'cancelled'],
    default: 'pending'
  },
  price: Number,
  notes: String,
  sketch: String, // —Å—Å—ã–ª–∫–∞ –Ω–∞ —ç—Å–∫–∏–∑
  
  // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  reminderSent: {
    type: Boolean,
    default: false
  },
  reminderDate: Date,
  
  createdAt: {
    type: Date,
    default: Date.now
  }
});

// –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
AppointmentSchema.index({ artist: 1, date: 1 });

module.exports = mongoose.model('Appointment', AppointmentSchema);
```

```javascript
// models/Artist.js
const mongoose = require('mongoose');

const ArtistSchema = new mongoose.Schema({
  name: String,
  specialization: [String], // ['—Ä–µ–∞–ª–∏–∑–º', 'old_school', 'tribal']
  experience: Number, // –ª–µ—Ç
  rating: Number,
  photo: String,
  bio: String,
  telegramId: Number,
  
  // –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
  schedule: {
    monday: [{ start: String, end: String }],
    tuesday: [{ start: String, end: String }],
    // ... –¥—Ä—É–≥–∏–µ –¥–Ω–∏
  },
  
  // –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ
  portfolio: [{
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Tattoo'
  }],
  
  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  totalAppointments: {
    type: Number,
    default: 0
  },
  totalEarnings: {
    type: Number,
    default: 0
  }
});

module.exports = mongoose.model('Artist', ArtistSchema);
```

```javascript
// models/Tattoo.js (–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ)
const mongoose = require('mongoose');

const TattooSchema = new mongoose.Schema({
  title: String,
  description: String,
  images: [String], // –º–∞—Å—Å–∏–≤ URL-–æ–≤
  artist: {
    type: mongoose.Schema.Types.ObjectId,
    ref: 'Artist'
  },
  style: String, // '—Ä–µ–∞–ª–∏–∑–º', 'old_school', etc.
  location: String, // '—Ä—É–∫–∞', '—Å–ø–∏–Ω–∞', etc.
  tags: [String],
  color: {
    type: String,
    enum: ['—Ü–≤–µ—Ç–Ω–æ–µ', '—á–µ—Ä–Ω–æ–µ']
  },
  size: String,
  likes: {
    type: Number,
    default: 0
  },
  views: {
    type: Number,
    default: 0
  },
  createdAt: {
    type: Date,
    default: Date.now
  }
});

module.exports = mongoose.model('Tattoo', TattooSchema);
```

---

### 6. API Endpoints (–ë–∞–∑–æ–≤—ã–µ)

```javascript
// routes/api.js
const express = require('express');
const router = express.Router();
const Client = require('../models/Client');
const Appointment = require('../models/Appointment');
const Artist = require('../models/Artist');
const Tattoo = require('../models/Tattoo');

// –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
router.get('/availability/:artistId/:date', async (req, res) => {
  const { artistId, date } = req.params;
  
  const appointments = await Appointment.find({
    artist: artistId,
    date: new Date(date)
  });
  
  // –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
  const availableSlots = getAvailableSlots(appointments, artistId, date);
  
  res.json({ availableSlots });
});

// –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å
router.post('/appointments', async (req, res) => {
  const { clientId, artistId, date, service } = req.body;
  
  const appointment = new Appointment({
    client: clientId,
    artist: artistId,
    date: new Date(date),
    service,
    status: 'pending'
  });
  
  await appointment.save();
  
  // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä—É
  await sendNotificationToArtist(artistId, appointment);
  
  res.json({ success: true, appointment });
});

// –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
router.get('/portfolio', async (req, res) => {
  const tattoos = await Tattoo.find()
    .populate('artist')
    .sort({ createdAt: -1 })
    .limit(20);
  
  res.json(tattoos);
});

module.exports = router;
```

---

### 7. Telegram Bot Handlers

```javascript
// bot/handlers/start.js
const Client = require('../models/Client');

module.exports = (bot) => {
  bot.onText(/\/start/, async (msg) => {
    const chatId = msg.chat.id;
    const { first_name, last_name, username } = msg.from;
    
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –∫–ª–∏–µ–Ω—Ç –≤ –ë–î
    let client = await Client.findOne({ telegramId: chatId });
    
    if (!client) {
      // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
      client = new Client({
        telegramId: chatId,
        firstName: first_name,
        lastName: last_name,
        username: username
      });
      await client.save();
    }
    
    // –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    bot.sendMessage(chatId, `üëã –ü—Ä–∏–≤–µ—Ç, ${first_name}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å—Ç—É–¥–∏—é!`, {
      reply_markup: {
        inline_keyboard: [
          [
            { 
              text: 'üì∏ –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ', 
              web_app: { url: process.env.FRONTEND_URL + '/portfolio' } 
            }
          ],
          [
            { 
              text: 'üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è', 
              web_app: { url: process.env.FRONTEND_URL + '/booking' } 
            }
          ],
          [
            { 
              text: 'üë®‚Äçüé® –ù–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞', 
              web_app: { url: process.env.FRONTEND_URL + '/artists' } 
            }
          ],
          [
            { text: 'üí∞ –¶–µ–Ω—ã', callback_data: 'prices' },
            { text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' }
          ]
        ]
      }
    });
  });
};
```

---

### 8. Telegram Mini App (Frontend - React)

```jsx
// mini-app/src/App.jsx
import React, { useEffect, useState } from 'react';

function App() {
  const [tg, setTg] = useState(null);
  const [user, setUser] = useState(null);
  
  useEffect(() => {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –æ—Ç–∫—Ä—ã—Ç–æ –≤ Telegram
    if (window.Telegram && window.Telegram.WebApp) {
      const tgInstance = window.Telegram.WebApp;
      tgInstance.ready();
      tgInstance.expand(); // –†–∞—Å–∫—Ä—ã—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
      
      setTg(tgInstance);
      setUser(tgInstance.initDataUnsafe?.user);
      
      // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
      tgInstance.MainButton.setText('–ó–∞–ø–∏—Å–∞—Ç—å—Å—è');
      tgInstance.MainButton.onClick(() => {
        window.location.href = '/booking';
      });
      tgInstance.MainButton.show();
    }
  }, []);
  
  return (
    <div className="app">
      {user && (
        <div className="greeting">
          –ü—Ä–∏–≤–µ—Ç, {user.first_name}! üëã
        </div>
      )}
      
      <div className="content">
        {/* –í–∞—à –∫–æ–Ω—Ç–µ–Ω—Ç –∑–¥–µ—Å—å */}
      </div>
    </div>
  );
}

export default App;
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ó–ê–ü–£–°–ö–û–ú

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- [ ] –°–æ–∑–¥–∞–Ω Telegram –±–æ—Ç (@BotFather)
- [ ] –ü–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω HTTPS (Vercel/Netlify)
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∞ –ë–î (MongoDB/PostgreSQL)
- [ ] –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Backend:
- [ ] Express —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### Telegram Bot:
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ /start
- [ ] –ö–Ω–æ–ø–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç Mini App
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### Mini App (Frontend):
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ Telegram
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç
- [ ] API –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- [ ] –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

### CRM —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- [ ] –ö–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ó–∞–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
- [ ] –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–ø–∏—Å—è—Ö —Ä–∞–±–æ—Ç–∞—é—Ç

---

## üí∞ –ò–¢–û–ì–û–í–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨

| –≠–ª–µ–º–µ–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|---------|-----------|
| –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–∞ | $300 |
| Mini App Frontend | $600 |
| Backend + API | $500 |
| CRM —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | $700 |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞) | $200 |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | $200 |
| **–ò–¢–û–ì–û** | **$2500** |

**–ü–ª—é—Å:** –•–æ—Å—Ç–∏–Ω–≥: ~$10-15/–º–µ—Å—è—Ü (Vercel –±–µ—Å–ø–ª–∞—Ç–Ω–æ + Railway $5 + MongoDB –±–µ—Å–ø–ª–∞—Ç–Ω–æ)

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–∞ (5 –º–∏–Ω—É—Ç)
```
1. –û—Ç–∫—Ä—ã—Ç—å @BotFather –≤ Telegram
2. /newbot
3. –í–≤–µ—Å—Ç–∏ –∏–º—è: "My Tattoo Studio Bot"
4. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω
```

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω
```bash
git clone https://github.com/your-template/tattoo-studio.git
cd tattoo-studio
npm install
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
```bash
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã
```

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç—å
```bash
npm run dev
```

### –®–∞–≥ 5: –î–µ–ø–ª–æ–π
```bash
# Frontend –Ω–∞ Vercel
npm run build
vercel deploy

# Backend –Ω–∞ Railway
railway init
railway up
```

---

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é Telegram Mini App —Å CRM —Å–∏—Å—Ç–µ–º–æ–π! üéâ

